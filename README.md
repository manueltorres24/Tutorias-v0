# Tarea: TutorÃ­as IES Al-Ã�ndalus
## Profesor: AndrÃ©s Rubio del RÃ­o
## Alumno: Manuel Francisco Torres Pérez

La tarea va a consistir en modelar la gestiÃ³n de tutorÃ­as para la FP Semipresencial del IES Al-Ã�ndalus. DespuÃ©s de todas las especificaciones y requerimientos anotados, en este **primer spring** de la aplicaciÃ³n se ha decidido abarcar los siguientes:

- Los profesores planificarÃ¡n tutorÃ­as. Una tutorÃ­a de un profesor podrÃ¡ tener una o varias sesiones. Un alumno podrÃ¡ reservar una o varias citas para una sesiÃ³n dada.
- Un **alumno** se identifica por su **nombre** (que constarÃ¡ de al menos dos palabras correspondientes al nombre y un apellido) y su **correo electrÃ³nico** (que debe ser correcto). Una vez creado un alumno no podremos cambiarle ni el nombre ni el correo electrÃ³nico. Se considera que dos alumnos son los mismos si su correo electrÃ³nico es el mismo. A la hora de almacenar un alumno tambiÃ©n almacenaremos un atributo interno correspondiente a su cÃ³digo de **expediente** que formaremos aÃ±adiendo al prefijo "**SP_**" las iniciales del alumno, seguido de un guiÃ³n bajo y un nÃºmero Ãºnico para el mismo que coincidirÃ¡ con el nÃºmero de alumnos que se hayan ido dando de alta (correspondiente al atributo **ultimoIdentificador**). TambiÃ©n formatearemos el nombre del alumno, eliminando espacios en blanco sobrantes y poniendo la primera letra de cada palabra en mayÃºsculas y las siguientes en minÃºsculas. Para mostrar un alumno, mostraremos su nombre, seguido de sus iniciales, su correo electrÃ³nico y su cÃ³digo de expediente. La aplicaciÃ³n permitirÃ¡ **insertar un alumno**, **borrar un alumno** basÃ¡ndonos en el correo electrÃ³nico del mismo, **buscar un alumno** basÃ¡ndonos en el correo electrÃ³nico del mismo y **listar los alumnos** dados de alta.
- Un **profesor** se identifica por su **nombre**, su **DNI** (que debe ser correcto -formato y letra correcta-) y su **correo electrÃ³nico** (que debe ser correcto). Una vez creado un profesor no podremos cambiar ninguno de sus atributos. A la hora de almacenar un profesor formatearemos el nombre del profesor, eliminando espacios en blanco sobrantes y poniendo la primera letra de cada palabra en mayÃºsculas y las siguientes en minÃºsculas. Se considera que dos profesores son iguales si sus DNIs son iguales. Para mostrar un profesor mostraremos sus diferentes atributos. La aplicaciÃ³n permitirÃ¡ **insertar un profesor**, **borrar un profesor** basÃ¡ndonos en su DNI, **buscar un profesor** basÃ¡ndonos en su DNI y **listar los profesores** dados de alta.
- Un profesor planifica tutorÃ­as durante el curso. Una **tutorÃ­a** se identifica por su **nombre** y el **profesor** que la ha planificado. Una vez creada una tutorÃ­a no podremos cambiar ninguno de sus atributos. Se considera que dos tutorÃ­as son iguales si las ha planificado el mismo profesor y tienen el mismo nombre. Para mostrar una tutorÃ­a mostraremos su nombre y los atributos del profesor. La aplicaciÃ³n permitirÃ¡ **insertar una tutorÃ­a**, **borrar una tutorÃ­a**, **buscar una tutorÃ­a**, **listar las tutorÃ­as** dadas de alta y **listar las tutorÃ­as planificadas por un profesor** en concreto.
- Una tutorÃ­a se compone de una o varias sesiones. Una **sesiÃ³n** se identifica por la **tutorÃ­a** a la que pertenece, la **fecha** de la misma, la **hora de inicio**, la **hora de fin** y los **minutos de duraciÃ³n** que se asignarÃ¡n a cada cita en dicha sesiÃ³n. Para crear una sesiÃ³n debemos tener en cuenta que la fecha debe ser posterior al dÃ­a actual, que la hora de inicio y de fin estÃ©n comprendidas entre la hora de comienzo de las clases (16:00) y fin de las clases (22:15), que la hora de inicio es menor que la hora de fin y que el intervalo comprendido entre la hora de inicio y de fin es mÃºltiplo de los minutos de duraciÃ³n. Una vez creada una sesiÃ³n no podremos cambiar ninguno de sus atributos. Se considera que dos sesiones son iguales si pertenecen a la misma tutorÃ­a y tienen la misma fecha, por lo que no podrÃ¡ haber dos sesiones para una tutorÃ­a con la misma fecha. Para mostrar una sesiÃ³n mostraremos los atributos de la tutorÃ­a a la que pertenece y los suyos propios. La aplicaciÃ³n permitirÃ¡ **insertar una sesiÃ³n**, **borrar una sesiÃ³n**, **buscar una sesiÃ³n**, **listar las sesiones** dadas de alta y **listar las sesiones de una tutorÃ­a** concreta.
- Los alumnos reservan citas para una sesiÃ³n concreta. Una **cita** se identifica por el **alumno** que la reserva, la **sesiÃ³n** para la que la reserva y la **hora** a la que reserva. Para crear la cita debemos tener en cuenta que la hora debe estar comprendida entre la hora de inicio y fin de la sesiÃ³n y que dicha hora corresponde con la hora de inicio mÃ¡s un mÃºltiplo de los minutos de duraciÃ³n. Una vez creada una cita no podremos cambiar ninguno de sus atributos. Se considera que dos citas son iguales si son iguales el alumno, la sesiÃ³n y la hora. Para mostrar una cita mostraremos el alumno, la sesiÃ³n y la hora. La aplicaciÃ³n nos permitirÃ¡ **insertar una cita**, **borrar una cita**, **buscar una cita**, **listar las citas** dadas de alta, **listar las citas reservadas por un alumno** y **listar las citas para una sesiÃ³n**.
- En este spring no contemplaremos ninguna restricciÃ³n mÃ¡s ni a la hora de insertar ni a la hora de borrar, por lo que se podrÃ¡n quedar datos inconsistentes que ya abarcaremos en el siguiente spring.

Tu tarea consiste en realizar una aplicaciÃ³n para gestionar las tutorÃ­as en la FP Semipresencial para el IES Al-Ã�ndalus. Con los conocimientos adquiridos hasta el momento realizaremos una implementaciÃ³n basada en arrays para gestionar las colecciones. Aplicaremos el patrÃ³n MVC (haciendo una primera aproximaciÃ³n al mismo que poco a poco iremos mejorando cuando adquiramos los conocimientos necesarios) por lo que haremos una distinciÃ³n entre la **vista** (encargada de interaccionar con el usuario), el **modelo** (encargado de gestionar los datos) que dividiremos entre clases de dominio (DTO) y clases de negocio (DAO) que nos permiten interactuar con las colecciones y el **controlador** (encargado de dirigir toda esta orquesta).

Debes tener en cuenta el problema existente con las referencias (aunque en principio no podamos modificar ninguno de los atributos de las clases expuestas -se consideran clases inmutables-, quiero que te acostumbres a tenerlo en cuenta). Por ello para cada clase que sea cliente de otra deberÃ¡s devolver referencias a objetos nuevos en los mÃ©todos de acceso y tambiÃ©n crear nuevas referencias a nuevos objetos cuando los vayamos a asignar a atributos. En los mÃ©todos de las clases de negocio tambiÃ©n deberÃ¡s devolver una copia profunda de los elementos de la colecciÃ³n en dicho mÃ©todo de acceso.

TambiÃ©n siempre se deben validar todos los valores que se intentan asignar y si no lanzar una excepciÃ³n adecuada para evitar inconsistencias en el estado de los objetos.

Para ello te pongo un diagrama de clases para el mismo y poco a poco te irÃ© explicando los diferentes pasos a realizar:

![Diagrama de clases para tutorias](src/main/resources/Tutorias.png)

He subido a GitHub un esqueleto de proyecto gradle que ya lleva incluidos todos los test necesarios que el programa debe pasar. Dichos test estÃ¡n todos comentados y deberÃ¡s ir descomentÃ¡ndolos conforme vayas avanzando con la tarea. La URL del repositorio es en la que te encuentras.

Por tanto, tu tarea va a consistir en completar los siguientes apartados:

1. Lo primero que debes hacer es realizar un **fork** del repositorio donde he colocado el proyecto gradle con la estructura del proyecto y todos los test necesarios. Clonar tu repositorio remoto reciÃ©n copiado en github a un repositorio local que serÃ¡ donde irÃ¡s realizando lo que a continuaciÃ³n se te pide. AÃ±ade tu nombre al fichero `README.md` en el apartado "Alumno". Realiza tu primer commit.
2. Crea la clase `Alumno`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Crea el **constructor con parÃ¡metros** y el **constructor copia**. Crea los mÃ©todos `get` y `set` con la visibilidad adecuada. En todos los casos se debe comprobar la validez de los parÃ¡metros pasados antes de asignarlos y en caso de que no sean vÃ¡lidos lanzar la excepciÃ³n adecuada. Ten en cuenta los requisitos comentados al principio y recuerda asignar el **cÃ³digo de expediente**, **formatear el nombre** adecuadamente y tratar adecuadamente el atributo `ultimoIdentificador` (para ello estÃ¡ mÃ©todo `incrementaUltimaIdentificador`). El mÃ©todo `getAlumnoFicticio` simplemente devolverÃ¡ un alumno con un nombre vÃ¡lido y el correo pasado por parÃ¡metro y que luego utilizaremos para las bÃºsquedas y los borrados. Crea los mÃ©todos `hashCode`, `equals` y `toString`. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
3. Crea la clase `Profesor`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Crea el **constructor con parÃ¡metros** y el **constructor copia**. Crea los mÃ©todos `get` y `set` con la visibilidad adecuada. En todos los casos se debe comprobar la validez de los parÃ¡metros pasados antes de asignarlos y en caso de que no sean vÃ¡lidos lanzar la excepciÃ³n adecuada. Ten en cuenta los requisitos comentados al principio. El mÃ©todo `getProfesorFicticio` simplemente devolverÃ¡ un profesor con un nombre vÃ¡lido, un correo vÃ¡lido y el dni pasado por parÃ¡metro y que luego utilizaremos para las bÃºsquedas y borrados. Crea los mÃ©todos `hashCode`, `equals` y `toString`. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
4. Crea la clase `Tutoria`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Crea el **constructor con parÃ¡metros** y el **constructor copia**. Crea los mÃ©todos `get` y `set` con la visibilidad adecuada. En todos los casos se debe comprobar la validez de los parÃ¡metros pasados antes de asignarlos y en caso de que no sean vÃ¡lidos lanzar la excepciÃ³n adecuada. Ten en cuenta los requisitos comentados al principio. Crea los mÃ©todos `hashCode`, `equals` y `toString`. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
 5. Crea la clase `Sesion`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Crea el **constructor con parÃ¡metros** y el **constructor copia**. Crea los mÃ©todos `get` y `set` con la visibilidad adecuada. En todos los casos se debe comprobar la validez de los parÃ¡metros pasados antes de asignarlos y en caso de que no sean vÃ¡lidos lanzar la excepciÃ³n adecuada. Ten en cuenta los requisitos comentados al principio haciendo especial hincapiÃ© en los atributos `fecha`, `horaInicio`, `horaFin` y `minutosDuracion`. El mÃ©todo `getSesionFicticia` simplemente devolverÃ¡ una sesiÃ³n con una `horaInicio`, `horaFin` y `minutosDuracion` vÃ¡lidos y la `tutoria` y `fecha` pasadas por parÃ¡metro y que luego utilizaremos para las bÃºsquedas y borrados. Crea los mÃ©todos `hashCode`, `equals` y `toString`. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
6. Crea la clase `Cita`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Crea el **constructor con parÃ¡metros** y el **constructor copia**. Crea los mÃ©todos `get` y `set` con la visibilidad adecuada. En todos los casos se debe comprobar la validez de los parÃ¡metros pasados antes de asignarlos y en caso de que no sean vÃ¡lidos lanzar la excepciÃ³n adecuada. Ten en cuenta los requisitos comentados al principio, haciendo especial hincapiÃ© en la `hora` teniendo en cuenta su relaciÃ³n con las horas y minutos de duraciÃ³n de la sesiÃ³n. Crea los mÃ©todos `hashCode`, `equals` y `toString`. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
7. Crea la clase `Alumnos`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Recuerda que el mÃ©todo `get` devolverÃ¡ una copia profunda de la colecciÃ³n. Se permitirÃ¡ **insertar** elementos al final de la colecciÃ³n sin admitir repetidos, **buscar** y **borrar** desplazando los elementos hacia la izquierda para dejar el array compactado. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
8. Crea la clase `Profesores`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Recuerda que el mÃ©todo `get` devolverÃ¡ una copia profunda de la colecciÃ³n. Se permitirÃ¡ **insertar** elementos al final de la colecciÃ³n sin admitir repetidos, **buscar** y **borrar** desplazando los elementos hacia la izquierda para dejar el array compactado. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
9. Crea la clase `Tutorias`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Recuerda que los mÃ©todos `get` devolverÃ¡n una copia profunda de la colecciÃ³n resultante. Se permitirÃ¡ **insertar** elementos al final de la colecciÃ³n sin admitir repetidos, **buscar** y **borrar** desplazando los elementos hacia la izquierda para dejar el array compactado. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
10. Crea la clase `Sesiones`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Recuerda que los mÃ©todos `get` devolverÃ¡n una copia profunda de la colecciÃ³n resultante. Se permitirÃ¡ **insertar** elementos al final de la colecciÃ³n sin admitir repetidos, **buscar** y **borrar** desplazando los elementos hacia la izquierda para dejar el array compactado. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
11. Crea la clase `Citas`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Recuerda que los mÃ©todos `get` devolverÃ¡n una copia profunda de la colecciÃ³n resultante. Se permitirÃ¡ **insertar** elementos al final de la colecciÃ³n sin admitir repetidos, **buscar** y **borrar** desplazando los elementos hacia la izquierda para dejar el array compactado. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
12. Crea la clase `Modelo`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama y la visibilidad adecuada. Cada mÃ©todo deberÃ¡ hacer una llamada al mÃ©todo homÃ³logo del objeto adecuado. Asegurate de que se pasan todos los tests asociados a esta clase. Realiza el commit correspondiente.
13. Crea la clase `Consola`, en el paquete adecuado, teniendo en cuenta que serÃ¡ una clase de utilidades de la cual no queremos que se puedan instanciar objetos. Crea los mÃ©todos especificados en el diagrama, teniendo en cuenta que cada uno de los mÃ©todos realizarÃ¡ la funciÃ³n que su nombre indica, es decir, pedir por teclado las variables convenientes, que en algunos casos deberÃ¡ transformar como en el caso de las fechas, para poder devolver el objeto de dominio correspondiente. El mÃ©todo `mostrarCabecera` mostrarÃ¡ la cadena pasada por parÃ¡metro y debajo de la misma una cadena compuesta de tantos caracteres '-' como su longitud. Realiza el commit correspondiente.
14. Crea el enumerado `Opcion`, en el paquete adecuado, cuyas instancias corresponderÃ¡n con cada una de las opciones del menÃº de nuestra aplicaciÃ³n. Cada instancia aceptarÃ¡ en su constructor una cadena correspondiente al mensaje que se mostrarÃ¡ por pantalla para dicha opciÃ³n. Debes crear los atributos y mÃ©todos que se especifican en el diagrama, teniendo en cuenta que el mÃ©todo `ejecutar` es abstracto por lo que en la declaraciÃ³n general no tendrÃ¡ implementaciÃ³n, pero que deberÃ¡ ser implementado en cada una de las instancias haciendo una llamada al correspondiente mÃ©todo de la clase `Vista`. El mÃ©todo getOpcionSegunOrdinal devolverÃ¡ la instancia de Opcion que ocupe el ordinal pasado por parÃ¡metro. El mÃ©todo `esOrdinalValido` devolverÃ¡ un `boolean` indicando si el ordinal pasado por parÃ¡metro estÃ¡ dentro de los posibles ordinales. El mÃ©todo `toString` devolverÃ¡ la cadena correspondiente a la concatenaciÃ³n del ordinal de la opciÃ³n, la cadena " .- " y el mensaje a mostrar por la opciÃ³n en cuestiÃ³n. Por Ãºltimo, el mÃ©todo `setVista` asignarÃ¡ el valor pasado al atributo `vista`, que aunque aÃºn no exista, crearÃ¡s en el siguiente paso. Realiza el commit correspondiente.
15. Crea la clase `Vista`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama. Esta clase harÃ¡ uso de los mÃ©todos de la clase `Consola` para pedir los datos y llamarÃ¡ al mÃ©todo adecuado de la clase `Controlador`. El mÃ©todo `comenzar` serÃ¡ un bucle que mostrarÃ¡ el menÃº, pedirÃ¡ la opcion deseada y la ejecutarÃ¡, asÃ­ hasta que la opciÃ³n elegida sea `SALIR`. El mÃ©todo `terminar` simplemente llamarÃ¡ al mÃ©todo `terminar` de la clase `Controlador`. Realiza el commit correspondiente.
16. Crea la clase `Controlador`, en el paquete adecuado, con los atributos y mÃ©todos especificados en el diagrama. Esta clase asignarÃ¡ los valores a los atributos y llamarÃ¡ al mÃ©todo `setControlador` de la clase `Vista` para que dicha clase tenga una referencia a Ã©sta. El mÃ©todo `comenzar` llamarÃ¡ al mÃ©todo `comenzar` de la vista. Los demÃ¡s mÃ©todos llamarÃ¡n a sus mÃ©todos homÃ³logos de la clase `Modelo`. Realiza el commit correspondiente.
17. Crea la clase `MainApp` que simplemente crearÃ¡ un objeto de la clase `Modelo`, otro de la clase `Vista` y otro de la clase `Controlador` pasÃ¡ndole los dos anteriores y luego llamarÃ¡ al mÃ©todo `comenzar`. Realiza el commit correspondiente.


###### Se valorarÃ¡:
- La indentaciÃ³n debe ser correcta en todas las clases.
- El nombre de las variables debe ser adecuado.
- Se debe utilizar la clase `Entrada` para realizar la entrada por teclado.
- El proyecto debe pasar todas las pruebas que van en el esqueleto del mismo y toda entrada del programa serÃ¡ validada para evitar que el programa termine abruptamente debido a una excepciÃ³n.
- Se deben utilizar los comentarios adecuados.
- Se valorarÃ¡ la correcciÃ³n ortogrÃ¡fica tanto en los comentarios como en los mensajes que se muestren al usuario.

